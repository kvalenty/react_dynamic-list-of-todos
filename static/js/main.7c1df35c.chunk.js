(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{10:function(e,t,n){e.exports=n(17)},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),c=n.n(o),u=n(9),s=n(1),i=n.n(s),l=n(4),m=n(6),d=n(5),p=(n(16),function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()}));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f={id:0,username:"no name",email:"no email",website:"no site",name:"no name",phone:"no phone",createdAt:new Date,updatedAt:new Date,address:null},b=function(e){var t=e.onLoadData,n=e.title;return r.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:t},n)},E=function(e){var t=e.todosList;return r.a.createElement("table",{className:"table table-hover"},r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("th",{scope:"row"},e.completed?"Done":"Undone"),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.user.name))}))))},h=[{title:"By title",sortingPattern:function(e,t){return e.title.localeCompare(t.title)}},{title:"Completed",sortingPattern:function(e,t){return Number(e.completed)-Number(t.completed)}},{title:"By name",sortingPattern:function(e,t){return e.user.username.localeCompare(t.user.username)}}],y=function(e){var t=e.onFilterTodos;return r.a.createElement("div",{className:"w-100 d-flex justify-content-around"},h.map((function(e){return r.a.createElement(b,{key:e.title,onLoadData:function(){return t(e.sortingPattern)},title:e.title})})))},j=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(!1),s=Object(d.a)(c,2),h=s[0],j=s[1],v=Object(a.useState)(!1),O=Object(d.a)(v,2),w=O[0],g=O[1],D=function(e,t){return e.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{user:t.find((function(t){return t.id===e.userId}))||f})}))},k=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,p("https://mate.academy/students-api/todos");case 3:return t=e.sent,e.next=6,p("https://mate.academy/students-api/users");case 6:n=e.sent,o(D(t,n)),j(!0),g(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Dynamic list of TODOs"),!h&&r.a.createElement(b,{title:w?"Loading...":"Load",onLoadData:k}),h&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{onFilterTodos:function(e){o(Object(u.a)(n).sort(e))}}),r.a.createElement(E,{todosList:n})))};c.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.7c1df35c.chunk.js.map